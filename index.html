<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/vega@5.22.1"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.5.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.21.0"></script>
    <title>FIT3179 Data Viz 2</title>
    <link rel="stylesheet" type="text/css" href="styles.css" media="all">
</head>
<body>
    <div class="container">
        <header>
            <h1>üá¶üá∫ Top Universities of Australia üá¶üá∫</h1>
            <p class="subheading">How do Australian universities stand against each other?</p>
        </header>

        <section class="overview">
            <div class="flex-container">
                <div class="text-content">
                    <h2>Overview</h2>
                    <p><strong class="emphasise">45%</strong> of the world's top unviersities are in <strong class="emphasise">10</strong> countries.</p>
                    <p>
                        Australia just makes the top 10, coming in at <strong>10th</strong> place with <strong>38</strong> out of <strong>1,500</strong> of the top universities
                        in the world. 

                        The United States of America is on top of the table by a significant margin of 199 universities - roughly double the number of top universities in the United Kingdom
                        which makes 2nd place with 99 top universities.
                    </p>

                    <p>
                        The United States of America is on top of the table by a significant margin of 199 universities - roughly double the number of top universities in the United Kingdom
                        which makes 2nd place with 99 top universities.
                    </p>
                </div>
                <div class="chart" id="radial_plot"></div>
            </div>
        </section>

        <section class="world-map">
            <div class="center-heading">
                <h2>üåè Where are the World's Top Universities? üåè</h2>
                <p>Australia is in the list of the top 10 countries with the most amount of top universities in the top 1500 in the world. The leading country is USA, followed by the UK and China.</p>
            </div>
            <div class="chart center-chart" id="choropleth_map"></div>
        </section>

        <section class="australia-focus">
            <div class="center-heading">
                <h4>FOCUS ON AUSTRALIA üá¶üá∫</h4>
                <h2>Where are Australia's Top Universities?</h2>
            </div>
            <div class="chart center-chart" id="interactive_dot_map"></div>
            
            <div class="flex-container">
                <h3>University Age and Size Distribution</h3>
                <p>Explore the distribution of Australian universities based on their age and size.</p>
                <div class="tab-container">
                    <div class="tab-buttons">
                        <button class="tab-button active" onclick="openTab(event, 'age-tab')">Age Distribution</button>
                        <button class="tab-button" onclick="openTab(event, 'size-tab')">Size Distribution</button>
                    </div>
                    <div id="age-tab" class="tab-content active">
                        <div class="chart" id="age_stack_bar"></div>
                    </div>
                    <div id="size-tab" class="tab-content">
                        <div class="chart" id="size_stack_bar"></div>
                    </div>
                </div>
            </div>

            <div class="flex-container">
                <div class="text-content">
                    <h3>Is there a correlation between Age and Size?</h3>
                    <p>Explore the relationship between the age and size of Australian universities in this heatmap visualization.</p>
                </div>
                <div class="chart" id="heatmap"></div>
            </div>

            <div class="flex-container">
                <h3>Comparing Multiple Attributes</h3>
                <div class="chart" id="para_coord_plot"></div>
            </div>
        </section>

        <footer>
            <p class="subheading">Created by Diya Ramesh for FIT3179 Data Visualisation</p>
        </footer>
    </div>

    <script type="text/javascript">
        var choroplethWorldMap = "js/choropleth_map.vg.json";
        vegaEmbed('#choropleth_map', choroplethWorldMap).then(function(result) {
            console.log("Choropleth map rendered successfully");
        }).catch(console.error);
        
        var radialPlot = "js/radial_plot.vg.json";
        vegaEmbed('#radial_plot', radialPlot).then(function(result) {
            console.log("Radial plot rendered successfully");
        }).catch(console.error);

        var parallelCoordPlot = "js/para_coord_plot.vg.json";
        vegaEmbed('#para_coord_plot', parallelCoordPlot).then(function(result) {
            console.log("Parallel Coordinates plot rendered successfully");
        }).catch(console.error);

        var ageStackBarPlot = "js/age_grouped_bar.vg.json";
        vegaEmbed('#age_stack_bar', ageStackBarPlot).then(function(result) {
            console.log("Age stack bar plot rendered successfully");
        }).catch(console.error);

        var sizeStackBarPlot = "js/size_grouped_bar.vg.json";
        vegaEmbed('#size_stack_bar', sizeStackBarPlot).then(function(result) {
            console.log("Size stack bar plot rendered successfully");
        }).catch(console.error);

        var interactiveDotMap = "js/dot_map_aus.vg.json";
        vegaEmbed('#interactive_dot_map', interactiveDotMap).then(function(result) {
            console.log("Interactive dot map rendered successfully");
        }).catch(console.error);

        var heatMap = "js/heatmap.vg.json";
        vegaEmbed('#heatmap', heatMap).then(function(result) {
            console.log("Heat map rendered successfully");
        }).catch(console.error);

        function openTab(evt, tabName) {
            var i, tabContent, tabButtons;
            tabContent = document.getElementsByClassName("tab-content");
            for (i = 0; i < tabContent.length; i++) {
                tabContent[i].classList.remove("active");
            }
            tabButtons = document.getElementsByClassName("tab-button");
            for (i = 0; i < tabButtons.length; i++) {
                tabButtons[i].classList.remove("active");
            }
            document.getElementById(tabName).classList.add("active");
            evt.currentTarget.classList.add("active");
        }
    </script>
</body>
</html>